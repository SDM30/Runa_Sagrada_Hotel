<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Runa Sagrada - Descubre los destinos más hermosos de Colombia"
    />
    <meta name="keywords" content="turismo, Colombia, hoteles, destinos" />
    <meta name="author" content="Runa Sagrada" />

    <title th:text="${serviceDetail.name}">Servicio</title>

    <!-- Stylesheets -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
    />
    <link rel="stylesheet" th:href="@{/styles/styles.css}" />
  </head>
  <body>
    <!--===== NAVBAR =====-->
    <header
      id="navbar-service-detail"
      class="navbar navbar-expand-lg navbar-dark nav-glass"
      role="navigation"
      aria-label="Navegación principal"
    >
      <div class="container">
        <a
          class="navbar-brand d-flex align-items-center gap-2"
          href="#hero"
          aria-label="Portal Usuario - Servicio"
        >
          <img
            th:src="@{/images/logito.png}"
            alt="Runa Sagrada"
            class="brand-logo"
          />
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mainNav"
          aria-controls="mainNav"
          aria-expanded="false"
          aria-label="Alternar navegación"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <nav class="collapse navbar-collapse" id="mainNav">
          <ul class="navbar-nav mx-auto nav-underline gap-3" role="menubar">
            <li class="nav-item" role="none">
              <a
                class="nav-link active"
                aria-current="page"
                href="#hero"
                role="menuitem"
                th:text="${serviceDetail.name}"
              ></a>
            </li>
            <li class="nav-item" role="none">
              <a
                class="nav-link"
                th:href="@{/service/available#amenities}"
                role="menuitem"
                >Comodidades</a
              >
            </li>
            <li class="nav-item" role="none">
              <a
                class="nav-link"
                th:href="@{/service/available#restaurants}"
                role="menuitem"
                >Restaurantes</a
              >
            </li>
            <li class="nav-item" role="none">
              <a
                class="nav-link"
                th:href="@{/service/available#tours}"
                role="menuitem"
                >Recorridos</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <main id="main-content-cards">
      <div class="container my-5">
        <!-- Título -->
        <h1 class="mb-4 text-center" th:text="${serviceDetail.name}">
          Nombre del Servicio
        </h1>

        <!-- CAROUSEL: appear when there is at least one image -->
        <div class="row mb-4">
          <div class="col-12">
            <div
              th:if="${serviceDetail.imageUrls != null and #lists.size(serviceDetail.imageUrls) > 0}"
            >
              <div
                id="serviceCarousel"
                class="carousel slide shadow-none"
                data-bs-ride="carousel"
                data-bs-interval="3000"
                data-bs-pause="hover"
              >
                <!-- indicadores -->
                <div
                  class="carousel-indicators"
                  th:if="${#lists.size(serviceDetail.imageUrls) > 1}"
                >
                  <button
                    type="button"
                    data-bs-target="#serviceCarousel"
                    th:each="img,iterStat : ${serviceDetail.imageUrls}"
                    th:attr="data-bs-slide-to=${iterStat.index}"
                    th:classappend="${iterStat.index == 0} ? ' active' : ''"
                    th:attrappend="aria-label=|Slide ${iterStat.index + 1}|"
                  ></button>
                </div>

                <!-- slides -->
                <div class="carousel-inner rounded shadow-lg overflow-hidden">
                  <div
                    th:each="img,iterStat : ${serviceDetail.imageUrls}"
                    class="carousel-item"
                    th:classappend="${iterStat.index == 0} ? ' active' : ''"
                  >
                    <img
                      th:src="${img}"
                      th:alt="|${serviceDetail.name} - imagen ${iterStat.index + 1}|"
                      class="d-block w-100"
                      style="height: 450px; object-fit: cover"
                    />
                  </div>
                </div>

                <!-- Controls only appear if there is more than one image -->
                <button
                  class="carousel-control-prev"
                  type="button"
                  data-bs-target="#serviceCarousel"
                  th:if="${#lists.size(serviceDetail.imageUrls) > 1}"
                  data-bs-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Anterior</span>
                </button>
                <button
                  class="carousel-control-next"
                  type="button"
                  data-bs-target="#serviceCarousel"
                  th:if="${#lists.size(serviceDetail.imageUrls) > 1}"
                  data-bs-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="visually-hidden">Siguiente</span>
                </button>
              </div>
            </div>

            <!-- fallback -->
            <div
              th:if="${serviceDetail.imageUrls == null or #lists.size(serviceDetail.imageUrls) == 0}"
              class="bg-light rounded shadow-sm d-flex align-items-center justify-content-center"
              style="height: 450px"
            >
              <span class="text-muted">No hay imágenes disponibles</span>
            </div>
          </div>
        </div>

        <!-- Descriction and state -->
        <div class="row align-items-start mb-5">
          <div class="col-md-8 offset-md-2">
            <p class="text-center" th:text="${serviceDetail.description}">
              Aquí va la descripción del servicio. Explica en detalle qué
              incluye, beneficios, duración, y lo que el usuario necesita saber.
            </p>
            <p class="text-start">
              <strong th:text="'Estado: ' + ${serviceDetail.status}"
                >Estado</strong
              >
            </p>
          </div>
        </div>

        <!-- Details -->
        <div class="row">
          <!-- Left column -->
          <div class="col-md-6 d-flex">
            <div
              class="p-4 mb-4 h-100 w-100 border border-3 border-light rounded"
            >
              <h5 class="mb-3">Detalles</h5>
              <p>
                <strong>Fecha:</strong>
                <span
                  th:text="${serviceDetail.sheduledDate != null} ? ${#temporals.format(serviceDetail.sheduledDate, 'dd/MM/yyyy')} : 'Pendiente'"
                  >12/10/2025</span
                >
              </p>
              <p>
                <strong>Horario:</strong>
                <span
                  th:text="${serviceDetail.scheduledTime != null} ? ${#temporals.format(serviceDetail.scheduledTime, 'HH:mm')} : 'Por definir'"
                  >10:00</span
                >
              </p>
              <p>
                <strong>Capacidad:</strong>
                <span th:text="${serviceDetail.capacity}">20</span> personas
              </p>
            </div>
          </div>

          <!-- Right column -->
          <div class="col-md-6 d-flex">
            <div
              class="p-4 mb-4 h-100 w-100 border border-3 border-light rounded"
            >
              <h5 class="mb-3">Información adicional</h5>
              <p>
                <strong>Precio base:</strong>
                <span th:text="|${serviceDetail.basePrice} USD|">$150 USD</span>
              </p>

              <a
                th:href="@{${'https://www.google.com/maps?q=' + serviceDetail.latitude + ',' + serviceDetail.longitude}}"
                target="_blank"
                class="btn btn-gradient"
              >
                Ver en Google Maps
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="container my-5">
        <a target="_blank" class="btn btn-gradient"> Contratar servicio </a>
      </div>
    </main>

    <div id="divider-footer" class="ticker-wrap mt-5">
      <div class="ticker">
        <span
          >Hotel Runa Sagrada - Experiencias Únicas - Conexión Ancestral - Magia
          Colombiana</span
        >
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer-section">
      <div class="container">
        <div class="row">
          <!-- Logo y Nombre -->
          <div class="col-lg-3 col-md-6 mb-4">
            <div class="footer-brand">
              <img
                th:src="@{/images/logito.png}"
                alt="Runa Sagrada"
                class="footer-logo"
              />
              <h5 class="footer-title">Runa Sagrada</h5>
              <p class="footer-description">
                Experiencias auténticas en el corazón de Colombia
              </p>
            </div>
          </div>

          <!-- Hoteles - Las 5 Runas -->
          <div class="col-lg-2 col-md-6 mb-4">
            <h6 class="footer-heading">Las 5 Runas</h6>
            <ul class="footer-links">
              <li><a href="#">Cartagena</a></li>
              <li><a href="#">San Andrés</a></li>
              <li><a href="#">Santa Marta</a></li>
              <li><a href="#">Villa de Leyva</a></li>
              <li><a href="#">Eje Cafetero</a></li>
            </ul>
          </div>

          <!-- Servicios -->
          <div class="col-lg-2 col-md-6 mb-4">
            <h6 class="footer-heading">Servicios</h6>
            <ul class="footer-links">
              <li><a href="#">Gastronomía</a></li>
              <li><a href="#">Tours Sagrados</a></li>
              <li><a href="#">Talleres</a></li>
              <li><a href="#">Danzas Folclóricas</a></li>
            </ul>
          </div>

          <!-- Información Legal -->
          <div class="col-lg-2 col-md-6 mb-4">
            <h6 class="footer-heading">Información</h6>
            <ul class="footer-links">
              <li><a href="#">Términos y Condiciones</a></li>
              <li><a href="#">Política de Privacidad</a></li>
              <li><a href="#">Política de Cancelación</a></li>
            </ul>
          </div>

          <!-- Contacto -->
          <div class="col-lg-3 col-md-6 mb-4">
            <h6 class="footer-heading">Contacto</h6>
            <div class="footer-contact">
              <p><i class="fas fa-envelope"></i> info@runasagrada.com</p>
              <p><i class="fas fa-map-marker-alt"></i> Bogotá, Colombia</p>
            </div>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="row align-items-center">
            <div class="col-md-6">
              <p class="footer-copyright">
                &copy; 2025 Runa Sagrada. Todos los derechos reservados.
              </p>
            </div>
            <div class="col-md-6 text-md-end">
              <p class="footer-love">
                Hecho con <span class="heart">❤️</span> en Colombia
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script th:src="@{/js/script.js}" defer></script>
  </body>
</html>
